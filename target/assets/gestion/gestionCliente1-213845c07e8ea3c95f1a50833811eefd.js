function validateManagementData(){$isValid=true;if($("#priodidadTc").text()=="CLIENTE EXITOSO NO GESTIONAR"){alert("EL CLIENTE ACTUAL SE ENCUENTRA GUARDADO COMO EXITOSO, NO SE PUEDE CONTINUAR.");$isValid=false;return}if($("#status").val()==""){alert("Debe escoger un estado");$isValid=false;return}else{if($("#substatus").val()==""){alert("Debe escoger un subestado");$isValid=false;return}else{if($("#recall").is(":visible")){if($("#agendamiento").val()==""){alert("Campo agendamiento vacio");$isValid=false;return}if($("#recall").val()==""){alert("Debe ingresar una fecha para la rellamada");$isValid=false;return}else{if(calcularDias($("#recall").val())>3){alert("La fecha de rellamada no puede sobrepasar los tres días");$isValid=false;return}}}if($("#subSubStatus").is(":visible")){if($("#subSubStatus").val()==""){alert("Debe escoger un sub subestado");$isValid=false;return}}if($divMotivo.is(":visible")){if($("#motivoNoAceptaSeguro").val()==""){alert("Debe escoger el motivo no desea seguro");$isValid=false;return}}if($("#motivosSubSubEstadosDiv").is(":visible")){if($("#motivosSubSubEstados").val()==""){alert("Debe escoger el Producto que desea el cliente");$isValid=false;return}if($("#divDeseaNuevoProducto").is(":visible")){if($("#deseaNuevoProducto").val()==""){alert("Ingrese el nuevo producto que desea el cliente.");$isValid=false;return}}}if($telefonoContactadoDiv.is(":visible")){if($telefonoContactado.val()===""){alert("Ingrese el teléfono al cual pudo contactar al cliente");$isValid=false;return}else{if($telefonoContactado.val().substring(0,1)!=0){alert("El teléfono contactado es incorrecto");$isValid=false;return}else{if(!validarSiNumero($telefonoContactado.val())){alert("El teléfono contactado no es un número válido");$isValid=false;return}}}}if($("#tipoAsistenciaDiv").is(":visible")){if($("#creditoAceptado").val()==""){alert("Ingrese un valor en el campo crédito aceptado");$isValid=false;return}else{if($("#labelConsumoExclusivo").text()!=""&&$("#creditoAceptado").val()=="OPT1"&&$("#subSubStatus").val()==4){alert("Si es solo crédito debe seleccionar Opcion 2 en el campo Crédito aceptado");$isValid=false;return}else{if($("#labelConsumoEscenario1").text()!=""&&$("#creditoAceptado").val()=="OPT2"&&$("#subSubStatus").val()==43){alert("Si es TDC+CREDITO debe seleccionar la Opcion 1 en el campo Crédito aceptado");$isValid=false;return}else{if($("#labelConsumoExclusivo").text()!=""&&$("#creditoAceptado").val()=="OPT1"&&$("#subSubStatus").val()==50){alert("Si es CREDITO+PDP debe seleccionar la Opcion 2 en el campo Crédito aceptado");$isValid=false;return}}}}if($("#situacionLaboralCredito").val()==""){alert("Ingrese un valor en el campo Situacion Laboral de crédito");$isValid=false;return}if($("#signatureDocuments").val()==""){alert("Ingrese un valor en el campo Firma Documentos");$isValid=false;return}if($("#agenciaGroup").is(":visible")){if($("#oficinaTarjeta").val()==""){alert("Debe seleccionar una agencia");$isValid=false;return}if($("#fechaAgendamiento").val()==""){alert("Debe ingresar la fecha de desembolso");$isValid=false;return}if($("#telefonoConvencionalCredito").val()==""){alert("Debe ingresar un número convencional del cliente");$isValid=false;return}else{if($("#telefonoConvencionalCredito").val().substring(0,1)!=0){alert("El teléfono convencional es incorrecto");$isValid=false;return}else{if(!validarSiNumero($("#telefonoConvencionalCredito").val())){alert("El teléfono convencional no es un número válido");$isValid=false;return}else{if($("#telefonoConvencionalCredito").val().length!=9){alert("El teléfono convencional debe contener 9 dígitos");$isValid=false;return}}}}if($("#telefonoCelularCredito").val()==""){alert("Debe ingresar un número celular del cliente");$isValid=false;return}else{if($("#telefonoCelularCredito").val().substring(0,2)!=9){alert("El teléfono celular es incorrecto");$isValid=false;return}else{if(!validarSiNumero($("#telefonoCelularCredito").val())){alert("El teléfono celular no es un número válido");$isValid=false;return}else{if($("#telefonoCelularCredito").val().length!=10){alert("El teléfono convencional debe contener 9 dígitos");$isValid=false;return}}}}}if($("#divFechaDesembolso").is(":visible")){if($("#fechaAgendamiento2").val()==""){alert("Debe ingresar la fecha de desembolso");$isValid=false;return}}if($("#correoCredito").val()==""){alert("Debe ingresar el correo electrónico del cliente");$isValid=false;return}}}}if($("#managementData").is(":visible")){if($("#cedulaTitular").val()==""){alert("Campo Cédula Titular vacío");$isValid=false;return}else{if($("#cedulaTitular").val().length>10){alert("La cédula puede tener hasta 10 caracteres");$isValid=false;return}}if($("#nombre1").val()==""){alert("Campo Nombre 1 vacío");$isValid=false;return}else{if($("#nombre1").val().length>20){alert("Nombre 1 puede tener hasta 20 caracteres");$isValid=false;return}}if($("#nombre2").val().length>20){alert("Nombre 2 puede tener hasta 20 caracteres");$isValid=false;return}if($("#apellido1").val()==""){alert("Campo Apellido 1 vacío");$isValid=false;return}else{if($("#apellido1").val().length>20){alert("Apellido 1 puede tener hasta 20 caracteres");$isValid=false;return}}if($("#apellido2").val().length>20){alert("Apellido 2 puede tener hasta 20 caracteres");$isValid=false;return}if($("#nacionalidad").val()==""){alert("Campo Nacionalidad vacío");$isValid=false;return}if($("#genero").val()==""){alert("Campo Género vacío");$isValid=false;return}if($("#estadoCivilGestion").val()==""){alert("Campo Estado Civil vacío");$isValid=false;return}if($("#paisNacimiento").val()==""){alert("Campo País Nacimiento vacío");$isValid=false;return}if($("#provinciaNacimiento").val()==""){alert("Campo Provincia Nacimiento vacío");$isValid=false;return}if($("#ciudadNacimiento").val()==""){alert("Campo Ciudad Nacimiento vacío");$isValid=false;return}if($("#fechaNacimientoGestion").val()==""){alert("Campo Fecha Nacimiento vacío");$isValid=false;return}else{if(calcularEdad($("#fechaNacimientoGestion").val())<21||calcularEdad($("#fechaNacimientoGestion").val())>75){alert("El rango de edad de la persona debe estar entre los 21 a 63 años de edad. Verifique la fecha de Nacimiento");$isValid=false;return}}if($("#provinciaDomicilioGestion").val()==""){alert("Campo Provincia Domicilio vacío");$isValid=false;return}if($("#ciudadDomicilioGestion").val()==""){alert("Campo Ciudad Domicilio vacío");$isValid=false;return}if($("#cantonDomicilio").val()==""){alert("Campo Cantón Domicilio vacío");$isValid=false;return}if($("#parroquiaDomicilio").val()==""){alert("Campo Parroquia vacío");$isValid=false;return}if($("#sectorDomicilio").val()==""){alert("Campo Sector de Domicilio vacio");$isValid=false;return}else{if($("#sectorDomicilio").val().length>20){alert("Sector de Domicilio puede tener hasta 50 caracteres");$isValid=false;return}}if($("#callePrincipalDomicilio").val()==""){alert("Campo Calle Principal Domicilio vacío");$isValid=false;return}else{if($("#callePrincipalDomicilio").val().length>50){alert("Calle Principal Domicilio puede tener hasta 50 caracteres");$isValid=false;return}}if($numeroCasaDomicilio.val()==""){alert("Campo Número Casa Domicilio vacío. Ingrese SN en caso de no tener datos.");$isValid=false;return}else{if($("#numeroCasaDomicilio").val().length>10){alert("Número Casa Domicilio puede tener hasta 8 caracteres");$isValid=false;return}}if($("#calleSecundariaDomicilio").val()==""){alert("Campo Calle Secundaria Domicilio vacío");$isValid=false;return}else{if($("#calleSecundariaDomicilio").val().length>50){alert("Calle Secundaria Domicilio puede tener hasta 50 caracteres");$isValid=false;return}}if($("#referenciaDomicilio").val()==""){alert("Campo Referencia Domicilio vacío");$isValid=false;return}else{if($("#referenciaDomicilio").val().length>250){alert("Referencia Domicilio puede tener hasta 250 caracteres");$isValid=false;return}}if($("#telefonoDomicilio").val()==""){alert("Campo Teléfono Domicilio vacío");$isValid=false;return}else{if($("#telefonoDomicilio").val().length!=8){alert("El teléfono de domicilio debe tener 8 caracteres");$isValid=false;return}else{if(!validarVacio($("#telefonoDomicilio").val())){alert("El teléfono de domicilio no debe contener espacios en blanco");$isValid=false;return}else{if($("#telefonoDomicilio").val().charAt(0)==0){alert("Valor inválido para el teléfono de domicilio");$isValid=false;return}}}}if($("#celularGestion").val()==""){alert("Campo Celular vacío");$isValid=false;return}else{if($("#celularGestion").val().length!=10){alert("El celular debe tener 10 dígitos");$isValid=false;return}else{if($("#celularGestion").val().charAt(0)!=0){alert("Valor inválido para el celular");$isValid=false;return}else{if(!validarVacio($("#celularGestion").val())){alert("El celular no debe contener espacios en blanco");$isValid=false;return}}}}if($("#emailPersonal").val()==""){alert("Campo Email Personal vacío");$isValid=false;return}else{if(!validarEmail($("#emailPersonal").val())){alert("El Email Personal ingresado es incorrecto.");$isValid=false;return}else{if($("#emailPersonal").val().length>50){alert("El longitud de Email es inválida");$isValid=false;return}}}if($("#provinciaTrabajoGestion").val()==""){alert("Campo Provincia Trabajo vacío");$isValid=false;return}if($("#ciudadTrabajoGestion").val()==""){alert("Campo Ciudad Trabajo vacío");$isValid=false;return}if($("#cantonTrabajo").val()==""){alert("Campo Cantón Trabajo vacío");$isValid=false;return}if($("#parroquiaTrabajo").val()==""){alert("Campo Parroquia Trabajo vacío");$isValid=false;return}if($("#sectorTrabajo").val()==""){alert("Campo Sector Trabajo vacío");$isValid=false;return}else{if($("#sectorTrabajo").val().length>50){alert("Sector de Trabajo puede tener hasta 50 caracteres");$isValid=false;return}}if($("#callePrincipalTrabajo").val()==""){alert("Campo Calle Principal Trabajo vacío");$isValid=false;return}else{if($("#callePrincipalTrabajo").val().length>50){alert("Calle Principal Trabajo puede tener hasta 50 caracteres");$isValid=false;return}}if($("#numeroCasaTrabajo").val()==""){alert("Campo Número Casa Trabajo vacío. Ingrese SN en caso de no tener datos.");$isValid=false;return}else{if($("#numeroCasaTrabajo").val().length>10){alert("Número Casa Trabajo puede tener hasta 10 caracteres");$isValid=false;return}}if($("#calleSecundariaTrabajo").val()==""){alert("Campo Calle Secundaria Trabajo vacío");$isValid=false;return}else{if($("#calleSecundariaTrabajo").val().length>50){alert("Calle Secundaria Trabajo puede tener hasta 50 caracteres");$isValid=false;return}}if($("#referenciaTrabajo").val()==""){alert("Campo Referencia Trabajo vacío");$isValid=false;return}else{if($("#referenciaTrabajo").val().length>250){alert("Referencia Trabajo puede tener hasta 250 caracteres");$isValid=false;return}}if($("#telefonoTrabajo").val()==""){alert("Campo Teléfono Trabajo vacío");$isValid=false;return}else{if($("#telefonoTrabajo").val().length!=8){alert("El teléfono de trabajo debe tener 8 caracteres");$isValid=false;return}else{if(!validarVacio($("#telefonoTrabajo").val())){alert("El teléfono de trabajo no debe contener espacios en blanco");$isValid=false;return}else{if($("#telefonoTrabajo").val().charAt(0)==0){alert("Valor inválido para el teléfono de trabajo");$isValid=false;return}}}}if($("#lugarEntrega").val()==""){alert("Campo Lugar de Entrega vacío");$isValid=false;return}if($("#telefonoContacto").val()==""){alert("Campo Teléfono Contacto vacío");$isValid=false;return}else{if($("#telefonoContacto").val().length==9){alert("El numero de teléfono de contacto debe tener 8 o 10 dígitos");$isValid=false;return}}if($("#horaContacto").val()==""){alert("Campo Hora de Contacto vacío");$isValid=false;return}if($("#nombreRecibeTarjeta").val()==""){alert("Campo Nombre Recibe Tarjeta vacío");$isValid=false;return}if($("#horarioEntrega").val()==""){alert("Campo Horario de Entrega vacío");$isValid=false;return}if($("#nombresReferencia").val()==""){alert("Campo nombres de Referencia vacío");$isValid=false;return}if($("#provincia").val()==""){alert("Campo provinvia de Referencia vacío");$isValid=false;return}if($("#ciudad").val()==""){alert("Campo ciudad de Referencia vacío");$isValid=false;return}if($("#telefono").val()==""){alert("Campo telefono de Referencia vacío");$isValid=false;return}else{if($("#telefono").val().length==9){alert("Campo telefono de Referencia dete tener 8 o 10 dígitos");$isValid=false;return}}if($("#relacionConCliente").val()==""){alert("Campo Relación con cliente Referencia vacío");$isValid=false;return}if($("#tipoCliente").val()==""){alert("Campo Tipo Cliente vacío");$isValid=false;return}else{if($("#tipoCliente").val()=="I"){if($("#nombreNegocio").val()==""){alert("Campo Nombre Negocio vacío");$isValid=false;return}if($("#fechaInicioNegocio").val()==""){alert("Campo Fecha Inicio Negocio vacío");$isValid=false;return}else{if(validarFecha($("#fechaInicioNegocio").val())==false){alert("El formato de fecha para el campo Fecha Inicio Negocio es AAAA/MM/DD");$isValid=false;return}}if($("#actividadEconomica").val()==""){alert("Campo Actividad Económica vacío");$isValid=false;return}if($("#ventasHonorariosMensuales").val()==""){alert("Campo Honorarios Mensuales vacío");$isValid=false;return}else{if(!validarSiNumero($("#ventasHonorariosMensuales").val())){alert("El campo Ventas u honorarios mensuales no es un número válido");$isValid=false;return}}if($("#costoVentas").val()==""){alert("Campo Costo Ventas vacío");$isValid=false;return}else{if(!validarSiNumero($("#costoVentas").val())){alert("El campo Costo Ventas no es un número válido");$isValid=false;return}}if($("#gastosOperativos").val()==""){alert("Campo Gastos Operativos vacío");$isValid=false;return}else{if(!validarSiNumero($("#gastosOperativos").val())){alert("El campo Gastos Operativos no es un número válido");$isValid=false;return}}}if($("#tipoCliente").val()=="D"){if($("#situacionLaboral").val()==""){alert("Campo Situación Laboral vacío");$isValid=false;return}if($("#nombreEmpresaGestion").val()==""){alert("Campo Nombre Empresa vacío");$isValid=false;return}if($("#contrato").val()==""){alert("Campo Contrato vacío");$isValid=false;return}if($("#cargo").val()==""){alert("Campo Cargo vacío");$isValid=false;return}if($("#fechaInicioTrabajoActual").val()==""){alert("Campo Fecha Inicio Trabajo vacío");$isValid=false;return}else{if(validarFecha($("#fechaInicioTrabajoActual").val())==false){alert("El formato de fecha para el campo Fecha Inicio Trabajo es AAAA/MM/DD");$isValid=false;return}}if($("#sueldo").val()==""){alert("Campo Sueldo vacío");$isValid=false;return}else{if(!validarSiNumero($("#sueldo").val())){alert("El campo sueldo no es un número válido");$isValid=false;return}}if($("#gastosFamilia").val()==""){alert("Campo Gastos Familia vacío");$isValid=false;return}else{if(!validarSiNumero($("#gastosFamilia").val())){alert("El campo gastos familia no es un número válido");$isValid=false;return}}}if($("#tipoCliente").val()=="J"){if($("#situacionLaboralJubilado").val()==""){alert("Campo Situación Laboral Jubilado vacío");$isValid=false;return}if($("#nombreEmpresaGestionJubilado").val()==""){alert("Campo Nombre Empresa Jubilado vacío");$isValid=false;return}if($("#contratoJubilado").val()==""){alert("Campo Contrato Jubilado vacío");$isValid=false;return}if($("#cargoJubilado").val()==""){alert("Campo Cargo Jubilado vacío");$isValid=false;return}if($("#fechaInicioTrabajoActualJubilado").val()==""){alert("Campo Fecha Inicio Jubilación vacío");$isValid=false;return}else{if(validarFecha($("#fechaInicioTrabajoActualJubilado").val())==false){alert("El formato de fecha para el campo Fecha Inicio Trabajo Jubilado es AAAA/MM/DD");$isValid=false;return}}if($("#sueldoJubilado").val()==""){alert("Campo Sueldo Jubilación vacío");$isValid=false;return}else{if(!validarSiNumero($("#sueldoJubilado").val())){alert("El campo sueldo no es un número válido");$isValid=false;return}}if($("#gastosFamiliaJubilado").val()==""){alert("Campo Gastos Familia Jubilado vacío");$isValid=false;return}else{if(!validarSiNumero($("#gastosFamiliaJubilado").val())){alert("El campo gastos familia no es un número válido");$isValid=false;return}}}}if($("#tipoVivienda").val()==""){alert("Campo tipo Vivienda vacío");$isValid=false;return}if($("#obligadoContabilidad").val()==""){alert("Campo Obligado Contabilidad vacío");$isValid=false;return}if($("#estadoCuentaDigital").val()==""){alert("Campo Estado de Cuenta Digital vacío");$isValid=false;return}if($("#sms").val()==""){alert("Campo Desea SMS vacío");$isValid=false;return}if($("#seguroDesgravamen").val()==""){alert("Campo Seguro Desgravamen vacío");$isValid=false;return}}if($("#divPDP").is(":visible")){if($("#provinciaNacimientoCU2").val()==""){alert("Campo provincia PDP vacío");$isValid=false;return}if($("#ciudadNacimientoCU2").val()==""){alert("Campo Ciudad PDP vacío");$isValid=false;return}}if($("#vinculoConfianza").val()==""){alert("Campo Vínculo Confianza vacío");$isValid=false;return}if($("#contratoPreliminar").val()==""){alert("Campo Contrato Preliminar vacío");$isValid=false;return}return $isValid}function init(){esconderCamposEstados();$("#telefonoContactadoDiv").hide();$("#status").val($("#status option:first").val());$("#sexo").val($("#sexo option:first").val());$("#estadoCivil").val($("#estadoCivil option:first").val());$("#parentesco").val($("#parentesco option:first").val());$("#provinciaDomicilioGestion").val($("#estadoCivil option:first").val());$("#provinciaTrabajoGestion").val($("#estadoCivil option:first").val());$("#radioPrimerNombre").prop("checked",true);$("#radioSegundoNombre").prop("disabled",true);$("#tipoCliente").val($("#tipoCliente option:first").val());$("#dataIndependiente").hide();$("#dataDependiente").hide();$("#dataJubilado").hide();$("#divPDP").hide();$("#divFechaDesembolso").hide();$("#groupDomicilio").hide();$("#groupDigital").hide();$("#divDeseaNuevoProducto").hide();$("#motivosSubSubEstadosDiv").hide();$("#deseaNuevoProducto").val("");$("#btnAdicional").attr("disabled",true)}function emptySelect(e){var t=document.getElementById(e);var n=document.createElement("option");var r=t.length;while(r>0){r--;t.remove(r)}n.text="-- Seleccione --";n.value="";t.add(n,null)}function fillSelect(e,t){var n=document.getElementById(e);var r=t[0].length;emptySelect(e);if(r>0){for(i=0;i<r;i++){var s=document.createElement("option");s.text=t[1][i];s.value=t[0][i];n.add(s,null)}}return r}function validateAdicionalData(){$isValid=true;if($("#cedula").val().trim()==""){alert("Valor inválido para campo cédula");$isValid=false;return}else{if($("#cedula").val().trim().length!=10){alert("La cédula debe tener 10 dígitos");$isValid=false;return}else{if($("#cedula").val().trim()==$("#identificacion").val().trim()){alert("El número  de cédula del Adicional no debe ser igual al del Principal");$isValid=false;return}}}if($("#primerNombre").val().trim()==""){alert("Debe ingresar el primer nombre");$isValid=false;return}if($("#primerApellido").val().trim()==""){alert("Debe ingresar el primer apellido");$isValid=false;return}if($("#cupoOtorgado").val().trim()==""){alert("Ingrese el cupo otorgado");$isValid=false;return}if($("#sexo").val()==""){alert("Ingrese el sexo del Adicional");$isValid=false;return}if($("#parentesco").val()==""){alert("Ingrese el parentesco del Adicional");$isValid=false;return}if($("#fechaNacimiento").val()==""){alert("Ingrese la fecha de nacimiento del Adicional");$isValid=false;return}if($("#estadoCivilAdicional").val()==""){alert("Ingrese el estado civil del Adicional");$isValid=false;return}if($("#nacionalidadAdicional").val()==""){alert("Ingrese la nacionalidad del Adicional");$isValid=false;return}return $isValid}function checkIfNumberNoSpace(e,t){if(e==32)return 0;if($.inArray(e,[46,8,9,27,13,110,190])!==-1||e==97&&t.ctrlKey===true||e==99&&t.ctrlKey===true||e==120&&t.ctrlKey===true||e==0){return 1}if(e<48||e>57){return 0}}function soloLetras(e){key=e.keyCode||e.which;tecla=String.fromCharCode(key).toLowerCase();letras=" áéíóúabcdefghijklmnñopqrstuvwxyz";especiales="8-37-39-46";tecla_especial=false;for(var t in especiales){if(key==especiales[t]){tecla_especial=true;break}}if(letras.indexOf(tecla)==-1&&!tecla_especial){return false}}function validarSiNumero(e){$esNumero=true;if(!/^([0-9])*$/.test(e)){$esNumero=false}return $esNumero}function validarEmail(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)?true:false}function validarSiSoloLetras(e){$esSoloTexto=true;$filtro=/^([A-Za-z ])*$/;if(!$filtro.test(e)){$esSoloTexto=false}return $esSoloTexto}function validarVacio(e){$esVacio=true;for(i=0;i<e.length;i++){if(e.charAt(i)==" "){$esVacio=false}}return $esVacio}function calcularEdad(e){var t=new Date;var n=new Date(e);var r=t.getFullYear()-n.getFullYear();var i=t.getMonth()-n.getMonth();if(i<0||i===0&&t.getDate()<n.getDate()){r--}return r}function calcularDias(e){var t=new Date;var n=new Date(e);var r=n.getTime()-t.getTime();var i=Math.round(r/(1e3*60*60*24));return i}function validarFecha(e){var t=e.split("/");var n=t[0];var r=t[1];var i=t[2];var s=new Date(n,r-1,i);if(!s||s.getFullYear()==n&&s.getMonth()==r-1&&s.getDate()==i){return true}else{return false}}function cleanAdicionalData(){$("#cedula").val("");$("#primerNombre").val("");$("#segundoNombre").val("");$("#primerApellido").val("");$("#segundoApellido").val("");$("#radioPrimerNombre").prop("checked",true);$("#radioSegundoNombre").prop("disabled",true);$("#cupoOtorgado").val("");$("#sexo").val($("#sexo option:first").val());$("#parentesco").val($("#parentesco option:first").val());$("#fechaNacimiento").val("");$("#observaciones").val("");$("#estadoCivilAdicional").val($("#estadoCivilAdicional option:first").val());$("#nacionalidadAdicional").val("")}function load_data(e){$.post(baseUrl+"/FuncionesAjax/searchUser",{query:e}).done(function(e){if(e=="null"){}else{alert("ya tienes este usuario en la base de datos con la misma cedula")}})}function esconderCamposEstados(){$("#motivoNoDesea").val($("#motivoNoDesea option:first").val());$("#cobroProteccionFraudes").val($("#cobroProteccionFraudes option:first").val());$("#recallDiv").hide();$("#subSubStatusDiv").hide();$("#managementData").hide();$("#motNoDeseaDiv").hide();$("#tipoAsistenciaDiv").hide();$("#exequial").prop("checked",false);$("#fraudes").prop("checked",false);$("#cobroDiv").hide();$("#agenciaGroup").hide();$("#divPDP").hide();$("#divDeseaNuevoProducto").hide();$("#motivosSubSubEstadosDiv").hide();$divMotivo.hide()}function limpiarTipoCliente(){$("#nombreNegocio").val("");$("#fechaInicioNegocio").val("");$("#actividadEconomica").val("");$("#ventasHonorariosMensuales").val("");$("#costoVentas").val("");$("#gastosOperativos").val("");$("#situacionLaboral").val($("#situacionLaboral option:first").val());$("#nombreEmpresaGestion").val("");$("#contrato").val($("#contrato option:first").val());$("#cargo").val("");$("#fechaInicioTrabajoActual").val("");$("#sueldo").val("");$("#gastosFamilia").val("")}$(document).ready(function(){$telefonoContactadoDiv=$("#telefonoContactadoDiv");$telefonoContactado=$("#telefonoContactado");$numeroCasaDomicilio=$("#numeroCasaDomicilio");$telefonoContacto=$("#telefonoContacto");$status=$("#status");$subSubStatus=$("#subSubStatus");$divMotivo=$("#divMotivo");init();$status.change(function(){esconderCamposEstados();$telefonoContactadoDiv.hide();if($status.val()==""){emptySelect("substatus")}else{$statusId=this.value;if($statusId==1){$telefonoContactadoDiv.show()}$.get(baseUrl+"/FuncionesAjax/getSubStatusByStatus",{id:$statusId},function(e){fillSelect("substatus",e)})}});$("#substatus").change(function(){esconderCamposEstados();if($("#substatus").val()==""){emptySelect("subSubStatus")}else{$subStatusId=this.value;$.get(baseUrl+"/FuncionesAjax/getSubSubStatusBySubStatus",{id:$subStatusId},function(e){if(fillSelect("subSubStatus",e)>0){$("#subSubStatusDiv").show()}else{$("#subSubStatusDiv").hide()}if(e[2]=="Rellamada"){$("#recallDiv").show()}else{$("#recallDiv").hide()}})}});$("#subSubStatus").change(function(){if($("#subSubStatus").val()==""){}else{$subSubStatusId=this.value;$.get(baseUrl+"/FuncionesAjax/getExtraeSubSubStatus",{id:$subSubStatusId},function(e){if(e=="CREDITO"){$("#tipoAsistenciaDiv").show();$("#divPDP").hide()}if(e=="TDC"){$("#managementData").show();$("#divPDP").hide()}if(e=="TDC+CREDITO"){$("#managementData").show();$("#tipoAsistenciaDiv").show();$("#divPDP").hide()}if(e=="CREDITO+PDP"){$("#tipoAsistenciaDiv").show();$("#divPDP").show()}if(e=="PDP"){$("#divPDP").show();$("#managementData").hide();$("#tipoAsistenciaDiv").hide()}if(e=="EXCESO DE LIQUIDEZ"){$divMotivo.show()}else{$divMotivo.hide()}})}});$("#signatureDocuments").change(function(){if($(this).val()=="AGENCIA"){$("#agenciaGroup").show();$("#oficinaTarjeta").val($("#oficinaTarjeta option:first").val())}else{$("#agenciaGroup").hide();$("#oficinaTarjeta").val($("#oficinaTarjeta option:first").val())}if($(this).val()=="SIN AGENCIA"){$("#divFechaDesembolso").show();$("#oficinaTarjeta").val($("#oficinaTarjeta option:first").val())}else{$("#divFechaDesembolso").hide()}if($(this).val()=="DOMICILIO"){$("#groupDomicilio").show()}else{$("#groupDomicilio").hide()}if($(this).val()=="DIGITAL"){$("#groupDigital").show()}else{$("#groupDigital").hide()}});$("#subSubStatus").change(function(){if($("#subSubStatus").val()==""){emptySelect("motivosSubSubEstados")}else{$motivosubStatusId=this.value;$.get(baseUrl+"/FuncionesAjax/geMotivoSubStatusBySubSubStatus",{id:$motivosubStatusId},function(e){if(fillSelect("motivosSubSubEstados",e)>0){$("#motivosSubSubEstadosDiv").show()}else{$("#motivosSubSubEstadosDiv").hide()}})}});$("#motivosSubSubEstados").change(function(){if($("#motivosSubSubEstados").val()==14){$("#divDeseaNuevoProducto").show()}else{$("#divDeseaNuevoProducto").hide();$("#deseaNuevoProducto").val("")}});$("#fraudes").change(function(){$("#cobroProteccionFraudes").val($("#cobroProteccionFraudes option:first").val());if($(this).prop("checked")){$("#cobroDiv").show()}else $("#cobroDiv").hide()});$("#cedula").keyup(function(){if($(this).val().trim().length==10){var e=$(this).val();if(e!=""){load_data(e)}else{load_data()}}});$("#btnGuardarAdicional").click(function(e){if(!validateAdicionalData()){e.preventDefault();return false}$idCliente=$("#idCliente").val().trim();$cedula=$("#cedula").val().trim();$primerNombre=$("#primerNombre").val().trim();$segundoNombre=$("#segundoNombre").val().trim();$primerApellido=$("#primerApellido").val().trim();$segundoApellido=$("#segundoApellido").val().trim();$nombreTarjeta=$("input:radio[name=nombreTarjeta]:checked").val();$cupoOtorgado=$("#cupoOtorgado").val().trim();$sexo=$("#sexo").val().trim();$parentesco=$("#parentesco").val().trim();$fechaNacimiento=$("#fechaNacimiento").val().trim();$estadoCivil=$("#estadoCivilAdicional").val().trim();$nacionalidad=$("#nacionalidadAdicional").val().trim();$.get(baseUrl+"/FuncionesAjax/addAdicionalToList",{idCliente:$idCliente,cedula:$cedula,primerNombre:$primerNombre,segundoNombre:$segundoNombre,primerApellido:$primerApellido,segundoApellido:$segundoApellido,nombreTarjeta:$nombreTarjeta,cupoOtorgado:$cupoOtorgado,sexo:$sexo,parentesco:$parentesco,fechaNacimiento:$fechaNacimiento,estadoCivil:$estadoCivil,nacionalidad:$nacionalidad},function(e){cleanAdicionalData();if(e=="true"){alert("Adicional agregado")}})});$("#segundoNombre").focusout(function(){if($("#segundoNombre").val().trim()!=""){$("#radioSegundoNombre").prop("disabled",false)}else{$("#radioPrimerNombre").prop("checked",true);$("#radioSegundoNombre").prop("disabled",true)}});$("#provinciaDomicilioGestion").change(function(e){emptySelect("ciudadDomicilioGestion");emptySelect("cantonDomicilio");emptySelect("parroquiaDomicilio");if($("#provinciaDomicilioGestion").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudades",{id:$idProvincia},function(e){fillSelect("ciudadDomicilioGestion",e)});$.get(baseUrl+"/FuncionesAjax/getCantones",{id:$idProvincia},function(e){fillSelect("cantonDomicilio",e)})}});$("#provinciaNacimiento").change(function(e){emptySelect("ciudadNacimiento");if($("#provinciaNacimiento").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudades",{id:$idProvincia},function(e){fillSelect("ciudadNacimiento",e)})}});$("#provinciaNacimientoCU2").change(function(e){emptySelect("ciudadNacimientoCU2");if($("#provinciaNacimientoCU2").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudades",{id:$idProvincia},function(e){fillSelect("ciudadNacimientoCU2",e)})}});$("#provinciaEntrega").change(function(e){emptySelect("ciudadEntrega");if($("#provinciaEntrega").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudadesEntrega",{id:$idProvincia},function(e){fillSelect("ciudadEntrega",e)})}});$("#provinciaDomicilioFvt").change(function(e){emptySelect("ciudadDomicilioFvt");if($("#provinciaDomicilioFvt").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudadesFvt",{id:$idProvincia},function(e){fillSelect("ciudadDomicilioFvt",e)})}});$("#ciudadEntrega").change(function(e){emptySelect("oficinaTarjeta");if($("#ciudadEntrega").val()!=""){$idCiudad=this.value;$.get(baseUrl+"/FuncionesAjax/getParroquiasAgencias",{id:$idCiudad},function(e){fillSelect("oficinaTarjeta",e)})}});$("#cantonDomicilio").change(function(e){emptySelect("parroquiaDomicilio");if($("#cantonDomicilio").val()!=""){$idCanton=this.value;$.get(baseUrl+"/FuncionesAjax/getParroquias",{id:$idCanton},function(e){fillSelect("parroquiaDomicilio",e)})}});$("#provinciaTrabajoGestion").change(function(e){emptySelect("ciudadTrabajoGestion");emptySelect("cantonTrabajo");emptySelect("parroquiaTrabajo");if($("#provinciaTrabajoGestion").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudades",{id:$idProvincia},function(e){fillSelect("ciudadTrabajoGestion",e)});$.get(baseUrl+"/FuncionesAjax/getCantones",{id:$idProvincia},function(e){fillSelect("cantonTrabajo",e)})}});$("#cantonTrabajo").change(function(e){emptySelect("parroquiaTrabajo");if($("#cantonTrabajo").val()!=""){$idCanton=this.value;$.get(baseUrl+"/FuncionesAjax/getParroquias",{id:$idCanton},function(e){fillSelect("parroquiaTrabajo",e)})}});$("#provincia").change(function(e){emptySelect("ciudad");if($("#provincia").val()!=""){$idProvincia=this.value;$.get(baseUrl+"/FuncionesAjax/getCiudades",{id:$idProvincia},function(e){fillSelect("ciudad",e)})}});$("#tipoCliente").change(function(){$("#dataIndependiente").hide();$("#dataDependiente").hide();$("#dataJubilado").hide();limpiarTipoCliente();if($(this).val()=="I"){$("#dataIndependiente").show()}if($(this).val()=="D"){$("#dataDependiente").show()}if($(this).val()=="J"){$("#dataJubilado").show()}});$("#send").click(function(e){if(!validateManagementData()){e.preventDefault();return false}else{$("#send").hide()}})});$("#horaContacto").on("keypress",function(e){if(checkIfNumberNoSpace(e.which,e)==0){return false}else{return}})